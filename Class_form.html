<!DOCTYPE html>
<html lang="en">

<head>
    <title>東海大學問卷調查</title>
    <style>
        html,
        body {
            height: 100%;
        }
        
        body {
            background-color: rgba(252, 233, 252, 0.705);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        h1 {
            text-align: center;
        }
        
        form {
            margin: 50px;
            width: 500px;
        }
        
        ul {
            padding: 0;
        }
        
        li {
            list-style-type: none;
            padding: 10px;
        }
        
        .problemName {
            margin-left: 40px;
            /*float: left;*/
            position: absolute;
        }
        
        .textPlace {
            margin-left: 60%;
        }
        
        img {
            width: 10%;
        }
        
        h2 {
            margin-left: 50px;
        }
        
        a {
            font-size: smaller;
        }
        
        hr {
            border: 1px solid rgba(156, 128, 156, 0.705);
        }
        
        .FormPlace {
            background-color: rgba(255, 255, 255, 0.801);
        }
        
        button {
            border: 0;
            background-color: rgba(252, 233, 252, 0.705);
            font-size: 15px;
            padding: 7px 14px;
            border-radius: 8px;
            border: 2px solid rgba(156, 128, 156, 0.705);
        }
        
        button:hover {
            color: rgb(255, 255, 255);
            background-color: rgba(138, 113, 138, 0.705);
        }
        
        button:active {
            background-color: rgba(252, 233, 252, 0.705);
        }
        
        .problemContext {
            width: 130px;
            height: 22px;
            border: 2px solid rgba(156, 128, 156, 0.705);
            border-radius: 8px;
        }
        
        .warn {
            border-color: rgba(230, 7, 7, 0.705)!important;
        }
        
        input[type='radio'] {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid rgba(156, 128, 156, 0.705);
        }
        
        input[type='radio']:before {
            content: '';
            display: block;
            width: 60%;
            height: 60%;
            margin: 20% auto;
            border-radius: 50%;
        }
        
        input[type='radio']:checked:before {
            background: rgb(197, 59, 174);
        }
    </style>
</head>

<body>
    <div class="FormPlace">
        <form name="Info">
            <h1>問卷調查</h1>
            <hr/>
            <div>
                <h2>基本資料</h2>
                <ul>
                    <li>
                        <label class="problemName">姓名</label>
                        <input name="Name" class="problemContext textPlace">
                    </li>
                    <li>
                        <label class="problemName">英文姓名<a href="https://www.boca.gov.tw/sp-natr-singleform-1.html" target="_blank">中譯英</a></label>
                        <input id="EngName" name="EngName" type="tel" style="ime-mode:disabled" class="problemContext textPlace">
                    </li>
                    <li>
                        <label class="problemName">生理性別</label>
                        <span class="textPlace">
                            <label><input type="radio" name="Gender" id="male" value="男"><img src="..\male.png"></label>
                            <label><input type="radio" name="Gender" id="female" value="女"><img src="..\female.png"></label>
                        </span>
                    </li>
                    <li>
                        <label class="problemName">身分證字號</label>
                        <input id="IDNumber" name="IDNumber" class="problemContext textPlace">
                    </li>
                    <li>
                        <label class="problemName">出生年月日</label>
                        <input id="Birthday" class="problemContext textPlace" type="date">
                    </li>
                </ul>
                <div style="text-align:center;">
                    <button id="SendOut" type="button" class="btn">送出</button>
                </div>

            </div>
        </form>
    </div>
    <script type="text/javascript">
        var date_now = new Date();
        document.getElementById("Birthday").max = date_now.toLocaleDateString('en-ca');
        var EngName = "";
        var stop = 0;
        const Send = document.getElementById("SendOut");

        const field = ['Name', 'EngName', 'Gender', 'IDNumber', 'Birthday'];
        Send.addEventListener("click", function() {
            const form = document.forms['Info'];
            var Info = Array();
            for (var i = 0; i <= 5; i++) {
                if (i === 2) {
                    Info.push(form.elements['Gender'].value);
                    i = 3;
                } else
                    Info.push(form.elements[i].value);
            }
            var Submit = true;
            for (var i = 0; i < 5; i++) {
                if (Info[i] === '') {
                    Submit = false;
                    if (i !== 2)
                        form.elements[field[i]].classList.add("warn");
                    else {
                        form.elements[2].classList.add("warn");
                        form.elements[3].classList.add("warn");
                    }
                } else {
                    if (i !== 2)
                        form.elements[field[i]].classList.remove("warn");
                    else {
                        form.elements[2].classList.remove("warn");
                        form.elements[3].classList.remove("warn");
                    }
                }
            }
            if (Info[3].length !== 10) {
                form.elements[4].classList.add("warn");
                Submit = false;
            }
            if (!Submit)
                alert('資料填寫不完整');

        });
        //設定點選enter會觸發
        document.onkeydown = (function(e) {
            //alert(e.keyCode);
            var CurKey = e.keyCode;
            if (CurKey === 13)
                Send.click();
        });
    </script>
</body>

</html>